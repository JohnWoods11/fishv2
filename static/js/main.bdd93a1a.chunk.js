(this.webpackJsonpfishv2=this.webpackJsonpfishv2||[]).push([[0],{12:function(e,t,a){e.exports={container:"catch_container__2PM1J",species:"catch_species__1YkKM",weight:"catch_weight__3W8MJ",catchStats:"catch_catchStats__3b_MT",statsPair:"catch_statsPair__P5rQi",recordButton:"catch_recordButton__2lfeK"}},16:function(e,t,a){e.exports={container:"session_container__lCfA5",header:"session_header__2r-16",castInfo:"session_castInfo__1u3MJ",castingOptions:"session_castingOptions__91fQk",verticalButtons:"session_verticalButtons__Lw9As",horizontalButtons:"session_horizontalButtons__yWM0a",catchButton:"session_catchButton__kwDQb",otherButton:"session_otherButton__39D0y"}},29:function(e,t,a){e.exports={container:"lakes_container__2X8aK",lakeHeader:"lakes_lakeHeader__3Hrvc",lakeBody:"lakes_lakeBody__1E5C8",bodyButtons:"lakes_bodyButtons__312n9"}},35:function(e,t,a){e.exports={container:"home_container__BAwCE",button:"home_button__hXUXe"}},53:function(e,t,a){e.exports=a(68)},58:function(e,t,a){},59:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(18),r=a.n(c),i=(a(58),a(50)),l=a(28),o=a(23),u=a(24),m=a(27),S=a(25),h=(a(59),a(17)),d=a(7),g=(a(60),a(22)),v=a(6),f=a(35),E=a.n(f);var p=function(e){var t=Object(s.useState)(!1),a=Object(g.a)(t,2),c=a[0],r=a[1];return c?n.a.createElement(d.a,{to:"/fishv2/session"}):n.a.createElement("div",{className:E.a.container},n.a.createElement(h.b,{to:"/fishv2/lakes"},n.a.createElement(v.a,{className:E.a.button,size:"lg"},"Lakes")),n.a.createElement(h.b,{to:"/fishv2/stats"},n.a.createElement(v.a,{className:E.a.button,size:"lg"},"Statistics")),n.a.createElement(v.a,{className:E.a.button,size:"lg",variant:e.currentSession?"primary":"secondary",onClick:function(){e.currentSession&&r(!0)}},"Session"))},k=a(36),y=a(30),C=a(29),N=a.n(C);var _=function(e){var t=Object(s.useState)(!1),a=Object(g.a)(t,2),c=a[0],r=a[1];return c?n.a.createElement(d.a,{to:"/fishv2/session"}):n.a.createElement("div",{className:N.a.container},n.a.createElement(k.a,{defaultActiveKey:"0"},e.lakes.map((function(t,a){return n.a.createElement(y.a,{Key:a},n.a.createElement(k.a.Toggle,{as:y.a.Header,eventKey:a},n.a.createElement("div",{className:N.a.lakeHeader},t.name,n.a.createElement("div",null,n.a.createElement(v.a,{variant:"success",sz:"lg",onClick:function(t){!function(t,a){e.currentSession?t.stopPropagation():(e.startSession(a),r(!0))}(t,a)}},"Fish")))),n.a.createElement(k.a.Collapse,{eventKey:a},n.a.createElement(y.a.Body,null,n.a.createElement("div",{className:N.a.lakeBody},"Stats here some time",n.a.createElement("div",{className:N.a.bodyButtons},n.a.createElement(v.a,{variant:"primary",sz:"lg",onClick:function(t){return function(t,a){e.editLake(a),t.stopPropagation()}(t,a)}},"Edit"),n.a.createElement(v.a,{variant:"danger",onClick:function(){return function(t){e.deleteLake(t)}(a)}},"Delete"))))))})),n.a.createElement(y.a,null,n.a.createElement(k.a.Toggle,{as:y.a.Header,eventKey:e.lakes.length},n.a.createElement("div",{className:N.a.lakeHeader},"Add a lake",n.a.createElement("div",null,n.a.createElement(v.a,{variant:"primary",sz:"lg",onClick:function(t){return function(t){e.addLake(),t.stopPropagation()}(t)}},"Add")))))))},b=a(16),I=a.n(b),O=a(19),T=a(33),B=a(34);var H=function(e){var t=Object(s.useState)(!1),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)(!1),l=Object(g.a)(i,2),o=l[0],u=l[1];return c?n.a.createElement(d.a,{to:"/fishv2/"}):o?n.a.createElement(d.a,{to:"/fishv2/catch"}):e.currentSession?n.a.createElement("div",{className:I.a.container},n.a.createElement("div",{className:I.a.header},e.lakes[e.currentSession.lakeIndex].name," ",n.a.createElement(h.b,{to:"/fishv2/"},n.a.createElement(v.a,null,"home"))),n.a.createElement("div",{className:I.a.castInfo,onClick:!1===e.currentSession.casting?function(){e.cast()}:null},!0===e.currentSession.casting?n.a.createElement("div",null,e.currentSession.casts," ",e.currentSession.currentCast.bites):"CAST")," ",n.a.createElement("div",{className:I.a.castingOptions},n.a.createElement(T.a,{as:B.a,variant:"info",title:e.currentSession.bait?e.currentSession.bait:"NO BAIT"},e.baits.map((function(t,a){return n.a.createElement(O.a.Item,{eventKey:a,onClick:function(){!function(t){e.changeBait(t)}(t)}},t)}))),n.a.createElement(T.a,{as:B.a,variant:"info",title:e.currentSession.style?e.currentSession.style:"NO STYLE"},e.styles.map((function(t,a){return n.a.createElement(O.a.Item,{eventKey:a,onClick:function(){!function(t){e.changeStyle(t)}(t)}},t)})))),n.a.createElement("div",{className:I.a.verticalButtons},n.a.createElement(v.a,{className:I.a.catchButton,variant:"success",size:"lg",onClick:function(){e.currentSession.casting&&(e.recordReelIn(),u(!0))}},"FISH LANDED")," ",n.a.createElement("div",{className:I.a.horizontalButtons},n.a.createElement(v.a,{className:I.a.otherButton,variant:"primary",size:"lg",onClick:function(){e.currentSession.casting&&e.addBite()}},"BITE OR RUN")," ",n.a.createElement(v.a,{className:I.a.otherButton,variant:e.currentSession.casting?"info":"danger",size:"lg",onClick:e.currentSession.casting?function(){e.recordReelIn(),e.recordCatchFail(),e.endCast()}:function(){r(!0),e.endSession()}},e.currentSession.casting?"END CAST":"END SESSION")))):n.a.createElement(d.a,{to:"/"})},w=a(12),J=a.n(w),L=a(43),j=a(37),D=function(e){Object(m.a)(a,e);var t=Object(S.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).changeSpecies=function(e){var t=s.state.catch;t.species=e,s.setState({catch:t})},s.changeWeight=function(e){var t=s.state.catch;t.weight=e.target.value,s.setState({catch:t})},s.addCatch=function(){s.props.recordCatchSuccess(s.state.catch.species,s.state.catch.weight),s.props.endCast(),s.setState({toSession:!0})},s.state={catch:{lakeIndex:null,castTime:null,catchTime:null,species:null,weight:null,bait:null,style:null},toSession:!1},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){if(this.props.currentSession){var e=this.state.catch;e.lakeIndex=this.props.currentSession.lakeIndex,e.castTime=this.props.currentSession.currentCast.castTime,e.catchTime=this.props.currentSession.currentCast.reelInTime,e.bait=this.props.currentSession.bait,e.style=this.props.currentSession.style,this.setState({catch:e})}}},{key:"render",value:function(){var e=this;return this.props.currentSession?this.state.toSession?n.a.createElement(d.a,{to:"/fishv2/session"}):n.a.createElement("div",{className:J.a.container},n.a.createElement(T.a,{size:"lg",className:J.a.species,as:B.a,variant:"primary",title:this.state.catch.species?this.state.catch.species:"NO SPECIES"},this.props.species.map((function(t,a){return n.a.createElement(L.a,{eventKey:a,onClick:function(){e.changeSpecies(t)}},t)}))),n.a.createElement(j.a,{className:J.a.weight},n.a.createElement(j.a.Group,{controlId:"weightRange"},n.a.createElement(j.a.Label,null,this.state.catch.weight?this.state.catch.weight:"NO WEIGHT RECORDED"),n.a.createElement(j.a.Control,{type:"range",min:"0",max:"40",step:"0.028",onChange:this.changeWeight,value:this.state.catch.weight}))),n.a.createElement("div",{className:J.a.catchStats},n.a.createElement("div",{className:J.a.statsPair},n.a.createElement("div",null,null!==this.state.catch.lakeIndex?this.props.lakes[this.state.catch.lakeIndex].name:"NA"),n.a.createElement("div",null," ",this.props.mSToDate(this.state.catch.catchTime).toLocaleDateString())),n.a.createElement("div",{className:J.a.statsPair},"Cast time:"," ",n.a.createElement("div",null,this.props.mSToDate(this.state.catch.castTime).toLocaleTimeString())),n.a.createElement("div",{className:J.a.statsPair},"Catch Time:"," ",n.a.createElement("div",null,this.props.mSToDate(this.state.catch.catchTime).toLocaleTimeString()," ")),n.a.createElement("div",{className:J.a.statsPair},"Species:"," ",n.a.createElement("div",null,this.state.catch.species?this.state.catch.species:"NA")),n.a.createElement("div",{className:J.a.statsPair},"Weight:"," ",n.a.createElement("div",null,this.state.catch.weight?this.state.catch.weight:"NA")),n.a.createElement("div",{className:J.a.statsPair},"Bait:"," ",n.a.createElement("div",null,this.state.catch.bait?this.state.catch.bait:"NA")),n.a.createElement("div",{className:J.a.statsPair},"Style:"," ",n.a.createElement("div",null,this.state.catch.style?this.state.catch.style:"NA"))),n.a.createElement(v.a,{variant:"success",size:"lg",className:J.a.recordButton,onClick:this.addCatch},"ADD CATCH")):n.a.createElement(d.a,{to:"/fishv2/"})}}]),a}(n.a.Component),x=a(8),A=a.n(x),P=function(e){Object(m.a)(a,e);var t=Object(S.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).resetStatsScreen=function(){s.setState({filteredCastList:[],generalStats:{catchRate:null,timeCasted:null,bites:null,catches:null,heaviestCatch:null,filteredCastTotal:null},isCastStats:!1,isFishStats:!1})},s.showCastStats=function(){var e=[];Object(l.a)(s.props.castHistory).map((function(t,a){e.push(a)})),s.mapStats(e),s.setState({isCastStats:!0})},s.mapStats=function(e){var t=0,a=0,n=0,c=0;e.map((function(e){!0===s.props.castHistory[e].catchSuccess&&t++,a+=s.props.castHistory[e].duration,n+=s.props.castHistory[e].bites,s.props.castHistory[e].weight>c&&(c=s.props.castHistory[e].weight)}));var r={catchRate:t/e.length,timeCasted:a,bites:n,catches:t,heaviestCatch:c,filteredCastTotal:e.length};s.setState({generalStats:r}),console.log(s.state.generalStats),console.log(r)},s.state={filteredCastList:[],generalStats:{catchRate:null,timeCasted:null,bites:null,catches:null,heaviestCatch:null},isCastStats:!1,isFishStats:!1},s}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,this.state.isCastStats?n.a.createElement("div",{className:A.a.container},n.a.createElement("div",{className:A.a.filterContainer},"FILTERS"),n.a.createElement("div",{className:A.a.generalStats},n.a.createElement("div",{className:A.a.generalStat},n.a.createElement("div",{className:A.a.generalStatHeader},"Time casted:")," ",this.state.generalStats.timeCasted),n.a.createElement("div",{className:A.a.generalStat},n.a.createElement("div",{className:A.a.generalStatHeader},"Heaviest catch:")," ",this.state.generalStats.heaviestCatch),n.a.createElement("div",{className:A.a.generalStat},n.a.createElement("div",{className:A.a.generalStatHeader},"Catches:")," ",this.state.generalStats.catches),n.a.createElement("div",{className:A.a.generalStat},n.a.createElement("div",{className:A.a.generalStatHeader},"Catch rate:")," ",100*this.state.generalStats.catchRate,"%"),n.a.createElement("div",{className:A.a.generalStat},n.a.createElement("div",{className:A.a.generalStatHeader},"Bites:")," ",this.state.generalStats.bites),n.a.createElement("div",{className:A.a.generalStat},n.a.createElement("div",{className:A.a.generalStatHeader},"Casts:")," ",this.state.generalStats.filteredCastTotal)),n.a.createElement("div",{className:A.a.categoryStats},"categorystats"),n.a.createElement(v.a,{className:A.a.statsButton,variant:"primary",onClick:this.resetStatsScreen},"stats")):this.state.isFishStats?n.a.createElement("div",{className:A.a.container},n.a.createElement("div",{className:A.a.statsContainer},"fishStats"),n.a.createElement(v.a,{variant:"primary",onClick:this.resetStatsScreen},"stats")):n.a.createElement("div",{className:A.a.container},n.a.createElement(v.a,{variant:"primary",onClick:this.showCastStats},"Cast stats"),n.a.createElement(v.a,{variant:"primary"},"Fish stats")))}}]),a}(n.a.Component),R=function(e){Object(m.a)(a,e);var t=Object(S.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).addLake=function(){var e=window.prompt("Lake:","");if(e){var t={name:e},a=Object(l.a)(s.state.lakes);a.push(t),s.setState({lakes:a},localStorage.setItem("lakes",JSON.stringify(a)))}},s.editLake=function(e){var t=window.prompt("Lake:","");if(t){var a={name:t},n=Object(l.a)(s.state.lakes);n[e]=a,s.setState({lakes:n},localStorage.setItem("lakes",JSON.stringify(n)))}},s.deleteLake=function(e){if(window.confirm("Delete this lake?")){var t=s.state.lakes;t.splice(e,1),s.setState({lakes:t},localStorage.setItem("lakes",JSON.stringify(t)))}},s.startSession=function(e){var t=s.state.currentSession;t={lakeIndex:e,casting:!1,casts:0,catches:0,castingDuration:0,bait:null,style:null,currentCast:{catchSuccess:null,castTime:null,reelInTime:null,bites:0},castHistory:[]},s.setState({currentSession:t},localStorage.setItem("currentSession",JSON.stringify(t)))},s.endSession=function(){var e=Object(l.a)(s.state.castHistory);e=e.concat(s.state.currentSession.castHistory);s.state;s.setState({castHistory:e,currentSession:null},localStorage.setItem("castHistory",JSON.stringify(e)),localStorage.setItem("currentSession",JSON.stringify(null)))},s.cast=function(){var e=s.state.currentSession;e.casting=!0,e.casts++;var t=new Date;e.currentCast.castTime=t.getTime(),s.setState({currentSession:e},localStorage.setItem("currentSession",JSON.stringify(e)))},s.recordReelIn=function(){var e=s.state.currentSession,t=new Date;e.currentCast.reelInTime=t.getTime(),s.setState({currentSession:e},localStorage.setItem("currentSession",JSON.stringify(e)))},s.recordCatchSuccess=function(e,t){var a=s.state.currentSession.currentCast,n=a.bites+1,c=a.castTime,r=a.reelInTime,i=a.reelInTime-a.castTime,l=s.state.lakes[s.state.currentSession.lakeIndex].name,o=s.state.currentSession.bait,u=s.state.currentSession.style,m=e,S=t,h={bites:n,castTime:c,reelInTime:r,duration:i,lakeName:l,lakeIndex:s.state.currentSession.lakeIndex,bait:o,style:u,species:m,weight:S,catchSuccess:!0},d=s.state.currentSession;d.castHistory.push(h),s.setState({currentSession:d},localStorage.setItem("currentSession",JSON.stringify(d)))},s.recordCatchFail=function(){var e=s.state.currentSession.currentCast,t=e.bites,a=e.castTime,n=e.reelInTime,c=e.reelInTime-e.castTime,r=s.state.lakes[s.state.currentSession.lakeIndex].name,i=s.state.currentSession.bait,l=s.state.currentSession.style,o={bites:t,castTime:a,reelInTime:n,duration:c,lakeName:r,lakeIndex:s.state.currentSession.lakeIndex,bait:i,style:l,catchSuccess:!1},u=s.state.currentSession;u.castHistory.push(o),s.setState({currentSession:u},localStorage.setItem("currentSession",JSON.stringify(u)))},s.endCast=function(){var e=s.state.currentSession;e.casting=!1,e.currentCast.bites=0,s.setState({currentSession:e},localStorage.setItem("currentSession",JSON.stringify(e)))},s.addBite=function(){var e=s.state.currentSession;e.currentCast.bites++,s.setState({currentSession:e},localStorage.setItem("currentSession",JSON.stringify(e)))},s.changeBait=function(e){var t=s.state.currentSession;t.bait=e,s.setState({currentSession:t},localStorage.setItem("currentSession",JSON.stringify(t)))},s.changeStyle=function(e){var t=s.state.currentSession;t.style=e,s.setState({currentSession:t},localStorage.setItem("currentSession",JSON.stringify(t)))},s.mSToDate=function(e){var t=new Date;return t.setTime(e),t},s.state={lakes:[Object(i.a)({name:"Holton"},"name","Alderby")],castHistory:[],species:["Roach","Pike","Carp","Perch"],baits:["Maggot","Corn"],styles:["Ledger","Float"],currentSession:null},s}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(h.a,null,n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/fishv2/",exact:!0,render:function(t){return n.a.createElement(p,{currentSession:e.state.currentSession})}})),n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/fishv2/lakes",exact:!0,render:function(t){return n.a.createElement(_,{lakes:e.state.lakes,addLake:e.addLake,editLake:e.editLake,deleteLake:e.deleteLake,startSession:e.startSession,currentSession:e.state.currentSession})}})),n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/fishv2/session",render:function(t){return n.a.createElement(H,{lakes:e.state.lakes,currentSession:e.state.currentSession,baits:e.state.baits,styles:e.state.styles,endSession:e.endSession,cast:e.cast,endCast:e.endCast,recordCatchFail:e.recordCatchFail,addBite:e.addBite,recordReelIn:e.recordReelIn,changeBait:e.changeBait,changeStyle:e.changeStyle})}})),n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/fishv2/catch",render:function(t){return n.a.createElement(D,{lakes:e.state.lakes,currentSession:e.state.currentSession,species:e.state.species,changeSpecies:e.changeSpecies,recordCatchSuccess:e.recordCatchSuccess,endCast:e.endCast,mSToDate:e.mSToDate})}})),n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/fishv2/stats",render:function(t){return n.a.createElement(P,{castHistory:e.state.castHistory})}})))}},{key:"componentDidMount",value:function(){if(localStorage.getItem("currentSession")){var e=localStorage.getItem("currentSession");e=JSON.parse(e),this.setState({currentSession:e})}if(localStorage.getItem("lakes")){var t=localStorage.getItem("lakes");t=JSON.parse(t),this.setState({lakes:t})}if(localStorage.getItem("castHistory")){var a=localStorage.getItem("castHistory");a=JSON.parse(a),this.setState({castHistory:a})}if(localStorage.getItem("baits")){var s=localStorage.getItem("baits");s=JSON.parse(s),this.setState({baits:s})}if(localStorage.getItem("styles")){var n=localStorage.getItem("styles");n=JSON.parse(n),this.setState({styles:n})}if(localStorage.getItem("species")){var c=localStorage.getItem("species");c=JSON.parse(c),this.setState({species:c})}}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports={container:"statistics_container__36Eba",filterContainer:"statistics_filterContainer__OE6JI",generalStats:"statistics_generalStats__2NTaS",generalStat:"statistics_generalStat__3TYK1",generalStatHeader:"statistics_generalStatHeader___6c5W",categoryStats:"statistics_categoryStats__1viJP",statsButton:"statistics_statsButton__2ZOK3"}}},[[53,1,2]]]);
//# sourceMappingURL=main.bdd93a1a.chunk.js.map